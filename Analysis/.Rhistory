setwd("~/BitBucket/VIT/Analysis")
#setwd("~/Dropbox/Brucella/Analysis/VIT")
rm(list = ls())
library(R2WinBUGS)
library(R2jags)
source("Z_foo.r") # fxn for calculating Z on the splines
source("plot_VITresults_fxns.r") # fxns for plotting model results
source("Write_VITSplineInterval.r") # code for the BUGS models
rm(list = ls())
seroyes <- 1
if(seroyes == 1){
load('VIT_Data2013_Full_POS.RData')
load("Result_mod10k1.RData")
load("Result_mod20k1.RData")
load("Result_mod40k1.RData")
load("Result_icar1.RData")
}
if(seroyes != 1){
load('VIT_Data2013_Full.RData')
load("Result_mod10k0.RData")
load("Result_mod20k0.RData")
load("Result_mod40k0.RData")
load("Result_icar0.RData")
}
source("plot_VITresults_fxns.r") # fxns for plotting model results
start.offset <- min(Data$CapDOY)
plot(mod10k)
print(mod10k, digits = 3)
sort(mod10k$BUGSoutput$summary[,8])
as.Date("2013/01/01") + 78
names(mod10k$BUGSoutput$)
names(mod10k$BUGSoutput)
mod10k$BUGSoutput$sims.array
names(mod10k$BUGSoutput$sims.array)
dim(mod10k$BUGSoutput$sims.array)
dim(mod10k$BUGSoutput$sims.list)
names(mod10k$BUGSoutput$sims.list)
mod10k$BUGSoutput$sims.list$prob.ab
dim(mod10k$BUGSoutput$sims.list$prob.ab)
?jags
class(mod10k)
?rjags
library(coda)
??coda
codamenu()
dim(mod10k$BUGSoutput$sims.matrix)
dim(mod10k$BUGSoutput$sims.arra)
dim(mod10k$BUGSoutput$sims.array)
dim(mod10k$BUGSoutput$sims.array$prob.ab)
head(mod10k$BUGSoutput$sims.array)
head(mod10k$BUGSoutput$sims.array[1:10,1,1:20])
head(mod10k$BUGSoutput$sims.array[,1,210:250])
head(mod10k$BUGSoutput$sims.array[,1,410:250])
head(mod10k$BUGSoutput$sims.array[,1,410:450])
head(mod10k$BUGSoutput$sims.array[,1,610:650])
head(mod10k$BUGSoutput$sims.array[,1,645:650])
head(mod10k$BUGSoutput$sims.array[,1,646:650])
646/D
D
head(mod10k$BUGSoutput$sims.array[,1,646:(646+D+1))
head(mod10k$BUGSoutput$sims.array[,1,646:(646+D+1)]
)
head(mod10k$BUGSoutput$sims.array[,1,646:(646+D)]
)
D
chain1 <- quantile(mod10k$BUGSoutput$sims.array[,1,646:(646+D-1)], c(0.025,.5, 0.0975))
chain2 <- quantile(mod10k$BUGSoutput$sims.array[,2,646:(646+D-1)], c(0.025,.5, 0.0975))
chain3 <- quantile(mod10k$BUGSoutput$sims.array[,3,646:(646+D-1)], c(0.025,.5, 0.0975))
dim(chain1)
chain1
mod10k$BUGSoutput$sims.array[,1,646:(646+D)]
mod10k$BUGSoutput$sims.array[,1,646:(646+D-1)]
chain1 <- apply(mod10k$BUGSoutput$sims.array[,1,646:(646+D-1)], margin = 1, FUN = quantile, c(0.025,.5, 0.0975))
?apply
chain1 <- apply(mod10k$BUGSoutput$sims.array[,1,646:(646+D-1)], 1, stats::quantile, c(0.025,.5, 0.0975))
chain1
chain1 <- apply(mod10k$BUGSoutput$sims.array[,1,646:(646+D-1)], 2, stats::quantile, c(0.025,.5, 0.0975))
chain1
plot(chain1[2], col = "blue")
plot(chain1[2,], col = "blue")
plot(chain2[2,], col = "red")
plot(chain3[2,], col = "green")
chain2 <- apply(mod10k$BUGSoutput$sims.array[,2,646:(646+D-1)], 2, stats::quantile, c(0.025,.5, 0.0975))
chain3 <- apply(mod10k$BUGSoutput$sims.array[,3,646:(646+D-1)], 2, stats::quantile, c(0.025,.5, 0.0975))
plot(chain1[2,], col = "blue", type = "l")
lines(chain1[1,], col = "blue", lty = 2)
chain1 <- apply(mod10k$BUGSoutput$sims.array[,1,646:(646+D-1)], 2, stats::quantile, c(0.025,.5, 0.0975))
chain2 <- apply(mod10k$BUGSoutput$sims.array[,2,646:(646+D-1)], 2, stats::quantile, c(0.025,.5, 0.0975))
chain3 <- apply(mod10k$BUGSoutput$sims.array[,3,646:(646+D-1)], 2, stats::quantile, c(0.025,.5, 0.0975))
plot(chain1[2,], col = "blue", type = "l")
lines(chain1[1,], col = "blue", lty = 2)
lines(chain1[3,], col = "blue", lty = 2)
lines(chain2[2,], col = "red")
lines(chain2[1,], col = "red", lty = 2)
lines(chain2[3,], col = "red", lty = 2)
lines(chain3[2,], col = "green")
lines(chain3[1,], col = "green", lty = 2)
lines(chain3[3,], col = "green", lty = 2)
sort(mod10k$BUGSoutput$summary[,8])
require('knitr')
setwd("~/BitBucket/VIT/Analysis")
#First knit the files to html and md.
knit("WriteUp.Rmd")
knit("Table1.Rmd")
require('knitr')
setwd("~/BitBucket/VIT/Analysis")
#First knit the files to html and md.
knit("WriteUp.Rmd")
knit("Table1.Rmd")
knit("Figures.Rmd")
knit("SupInfo.Rmd")
knit("MasterDoc.Rmd")
# Convert to Docx
system('pandoc --reference-docx=mytemplate.docx WriteUp.md -s -o WriteUp.docx --bibliography VITpaper.bib --csl JAE.csl')
system('pandoc --reference-docx=mytemplate.docx Table1.md  -s -o Table1.docx')
system('pandoc --reference-docx=mytemplate.docx Figures.md -s -o Figures.docx')
system('pandoc --reference-docx=mytemplate.docx SupInfo.md -s -o SupInfo.docx')
system('pandoc --reference-docx=mytemplate.docx MasterDoc.md  -s -o MasterDoc.docx --bibliography VITpaper.bib --csl JAE.csl')
# Convert to pdf
system('pandoc --template pcctemplate.latex WriteUp.md -s -o WriteUp.pdf --bibliography VITpaper.bib --csl JAE.csl')
system('pandoc --template pcctemplate.latex Table1.md -s -o Table1.pdf')
system('pandoc --template pcctemplate.latex Figures.md -s -o Figures.pdf')
system('pandoc --template pcctemplate.latex SupInfo.md -s -o SupInfo.pdf')
system('pandoc --template pcctemplate.latex MasterDoc.md  -s -o MasterDoc.pdf --bibliography VITpaper.bib --csl JAE.csl')
knit("SupInfo.Rmd")
system('pandoc --reference-docx=mytemplate.docx SupInfo.md -s -o SupInfo.docx')
system('pandoc --template pcctemplate.latex SupInfo.md -s -o SupInfo.pdf')
knit("Figures.Rmd")
knit("SupInfo.Rmd")
**Figure 1.** Elk captures and reproductive event locations from the study area in the southern region of the Greater Yellowstone Ecosystem. Pregnant females that died or whose reproductive event could not be identified as an abortion or live birth were censored or removed from the analysis, respectively.
system('pandoc --reference-docx=mytemplate.docx WriteUp.md -s -o WriteUp.docx --bibliography VITpaper.bib --csl ecology.csl')
system('pandoc --template pcctemplate.latex WriteUp.md -s -o WriteUp.pdf --bibliography VITpaper.bib --csl ecology.csl')
system('pandoc --template pcctemplate.latex MasterDoc.md  -s -o MasterDoc.pdf --bibliography VITpaper.bib --csl ecology.csl')
system('pandoc --reference-docx=mytemplate.docx WriteUp.md -s -o WriteUp.docx --bibliography VITpaper.bib --csl ecology.csl')
knit("Figures.Rmd")
system('pandoc --reference-docx=mytemplate.docx Figures.md -s -o Figures.docx')
.7*.1
